<div id="chat-container" class="container" onunload="leaveRoom()">

    <div class="row well">
        <!-- rooms-container -->
        <div class="col-xs-12 col-sm-6 col-md-8" id="rooms-container">
            <table class="table table-striped table-condensed">
                <thead>
                <h3>Available rooms</h3>
                    <tr>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="room in rooms">
                        <td><p>{{room.name}}</p></td>
                        <td><button type="button" class="btn btn-primary btn-sm" ng-click="joinRoom(room.id)">Join</button></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- create-room -->
        <div id="room-emit" class="col-xs-12 col-sm-6 col-md-4">
            <p class="lead">Create new chatroom </p>
            <div class="input-group">
                <input type="text" class="form-control" ng-model="roomName" placeholder="Insert something clever here...">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" ng-click="createRoom()">Create</button>
                </span>
            </div>
        </div>
    </div>


    <!-- error-message -->
    <div id="error-message" ng-if="errorMessage" class="alert alert-danger" role="alert">
        <p><strong>Oh snap! </strong>{{errorMessage}}</p>
    </div>


    <!-- chat-room -->
    <div class="panel panel-default" ng-show="inRoom">
        <div class="panel panel-heading"><h3 class="panel-title">{{room.name}}</h3></div>
        <div class="panel panel-body">
            <div class="row">
                <div id="send-show-messages" class="col-xs-12 col-sm-8 col-md-9">
                    <div id="chat-messages">
                        <div ng-repeat="message in messages">
                            <p><small>{{ message.createdAt | date: "d.M.y HH:mm" }}</small> <strong>{{message.nickname}}</strong> {{message.content}}</p>
                        </div>
                    </div>

                    <div id="send-msg">
                        <form>
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Type a message..." ng-model="message">
                                <span class="input-group-btn">
                                    <button class="btn btn-primary" ng-click="sendMessage()">Send</button>
                                </span>
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-danger" ng-click="leaveRoom()">Leave room</button>
                                </span>
                            </div>
                        </form>
                    </div>
                </div> <!-- id="send-show-messages" -->
                
                <div id="users-container" class="well col-xs-12 col-sm-4 col-md-3">
                    <h3>Participants</h3>
                    <div id="users-fixed">
                    </div>
                </div>
            </div> <!-- class="row" -->
        </div>
    </div>

</div>


