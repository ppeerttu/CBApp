PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE `Users` (`id` INTEGER PRIMARY KEY, `fbId` VARCHAR(255), `firstName` VARCHAR(255), `lastName` VARCHAR(255), `email` VARCHAR(255), `nickname` VARCHAR(255), `password` VARCHAR(255), `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
CREATE TABLE `Rooms` (`id` INTEGER PRIMARY KEY, `name` VARCHAR(255), `createdAt`DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
CREATE TABLE `Messages` (`id` INTEGER PRIMARY KEY, `content` TEXT, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `UserId` INTEGER REFERENCES `Users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `RoomId` INTEGER REFERENCES `Rooms` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);
CREATE TABLE `Posts` (`id` INTEGER PRIMARY KEY, `title` VARCHAR(255), `content` TEXT, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `UserId` INTEGER REFERENCES `Users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `comImg` VARCHAR(255));
CREATE TABLE `Replies` (`id` INTEGER PRIMARY KEY, `content` TEXT, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `UserId` INTEGER REFERENCES `Users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `PostId` INTEGER REFERENCES `Posts` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);
COMMIT;
